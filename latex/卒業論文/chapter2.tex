\chapter{問題定義}\label{definition}
この章では, まずpickup and delivery problem (PDP)について説明し, そのあとに乗合タクシー問題(DARP)について詳しく説明する．
\section{pickup and delivery problem}
pickup and delivery problem (PDP)は, 荷物を出発地まで目的地まで輸送する問題である．PDPでは, 荷物を受け取る地点(pickup)と荷物を配送する地点(delivery)のペアからなる$n$個のリクエストと$m$台の車両が与えられたときに以下の制約を満たしつつ与えられたコストを最小化するルートを求める問題である．
\begin{enumerate}
 \item 与えられた$n$個のリクエスト全ての地点を訪問する．
 \item 全ての車両はデポから出発してデポに帰る．
 \item リクエストでペアになっている出発地と目的地は同じ車両が訪問する.
 \item それぞれのリクエストにおいて, 必ず出発地を訪問した後に目的地を訪問する.
\end{enumerate}
ここでのリクエストとは, 荷物の輸送要求のことを指す．
与えられるコストとしては各頂点間の距離や時間などがある．よく制約として考えられるものは, リクエストの訪問点を決められた時間内に訪れなければならない時間枠制約や車両の容量を制限した容量制約などがある．また, 車両の種類が複数あり, 車両によって最大容量が異なる多資源制約や, 複数のデポを考慮する問題など, 様々な拡張が考えられている．

\section{乗合タクシー問題(dial-a-ride problem)}
乗合タクシー問題(dial-a-ride problem, DARP)は, PDPを人の輸送に特化した問題である. DARPはPDPと違い人を輸送するため, 車両に乗っている乗車時間が長いと利用者の不満がたまってしまう．そこで乗車時間やリクエストの訪問時間のずれなどで評価される不満度を考慮する必要がある.

顧客の満足度は, 利用者の乗車時間と出発地と目的地での待ち時間ではかる. 本研究では, 利用者が乗車時刻, 降車時刻, 乗車時間のそれぞれに対して希望を持つことを考える. それぞれの希望はそれぞれ連続区分線形凸関数のペナルティ関数で表される. ペナルティ関数を区分線形関数にすることで, 任意の間隔ごとに関数を設定することが可能になり, 3分の遅延なら許容できるが20分の遅れは許容できないなどの表現が可能になる. また, 乗車時間に応じてペナルティをかけることができるので, 不満度を柔軟に表現することが可能になる. したがって, DARPをより汎用的に解くことが可能となる.

事前に全てのリクエストがわかっている問題を静的DARP, リクエストが全てはわかっておらず問題を解く過程でリクエストが次々と与えられる問題を動的DARPといい, 本研究では静的DARPを考える．

\section{乗合タクシー問題の問題複雑度}
DARPは, 使用する車両数を1, リクエストにおける出発地を全てデポとする巡回セールスマン問題(traveling salesman problem, TSP)ととらえることができる. TSPはNP困難\cite{TSP}であることが知られているため, DARPもNP困難である.
